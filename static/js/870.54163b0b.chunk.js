"use strict";(self.webpackChunkedh_builder=self.webpackChunkedh_builder||[]).push([[870],{9824:function(e,a,t){t(2791);a.Z=t.p+"static/media/upload.20472953a21a606ff4be1812978cd3fa.svg"},7870:function(e,a,t){t.r(a),t.d(a,{default:function(){return l}});var n=t(6515),r=t(3430),c=t(2791),o=t(7831);t(3303);var s=t.p+"static/media/json.cf879b4ba0251238c88be3cb2c211ba5.svg",i=t(9824),d=t(184);var l=function(){var e=(0,c.useState)(""),a=(0,r.Z)(e,2),t=a[0],l=a[1],u=(0,c.useState)(""),m=(0,r.Z)(u,2),p=m[0],f=m[1],_=(0,c.useState)(""),h=(0,r.Z)(_,2),g=h[0],x=h[1],j=(0,o.u)({noClick:!!g,accept:".json",maxFiles:1,onDrop:function(e){console.log(e),x(e[0])}}),y=j.getRootProps,S=j.getInputProps,v=j.isDragActive;return(0,d.jsx)("div",{className:"background",children:(0,d.jsxs)("div",{className:"username-container",children:[(0,d.jsxs)("form",{children:[(0,d.jsx)("h1",{children:"Add new Set"}),(0,d.jsx)("input",{onChange:function(e){return l(e.target.value)},value:t,type:"text",placeholder:"Set Code"}),(0,d.jsx)("input",{type:"submit",onClick:function(e){return function(e){e.preventDefault(),fetch("https://api.scryfall.com/cards/search?order=set&q=e%3A".concat(t,"&unique=prints")).then((function(e){return e.json()})).then((function(e){var a=e.data.map((function(e){return{cardName:e.name,type:e.type_line,price:Number(e.prices.usd)<.5?.5.toFixed(2):Number(e.prices.usd)*1.65.toFixed(2),cmc:e.cmc,modal:e.layout,imageUrl:"transform"===e.layout||"modal_dfc"===e.layout?e.card_faces[0].image_uris.normal:e.image_uris.normal,imageUrl2:"transform"===e.layout||"modal_dfc"===e.layout?e.card_faces[1].image_uris.normal:null,cardArt:"transform"===e.layout||"modal_dfc"===e.layout?e.card_faces[0].image_uris.art_crop:e.image_uris.art_crop,color:e.color_identity.join(),legal:e.legalities.commander,producedMana:e.produced_mana?e.produced_mana.join():null,mana:"transform"===e.layout||"modal_dfc"===e.layout?e.card_faces[0].mana_cost:e.mana_cost,oracle_text:e.oracle_text&&e.oracle_text,isPartner:e.keywords.includes("Partner"),artist:e.artist}})),t=window.localStorage.getItem("token");fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/EDH-BUILDER",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,"/updateentries"),{method:"POST",headers:{"content-Type":"application/json",Authorization:t},body:JSON.stringify({cardsToAdd:a})}).then((function(e){"success"===e&&f(!0)}))}))}(e)},className:"signin-button"}),(0,d.jsx)("p",{style:{margin:"5px"},children:p&&"entrys successfully updated"})]}),(0,d.jsxs)("form",{children:[(0,d.jsx)("h1",{children:"Update Entrys"}),(0,d.jsx)("div",(0,n.Z)((0,n.Z)({},y()),{},{children:(0,d.jsxs)("div",{className:"drop-area ".concat(v&&"drag-active"),children:[(0,d.jsx)("input",(0,n.Z)({onChange:!0},S())),g?(0,d.jsxs)("div",{className:"uploaded-file",children:[(0,d.jsx)("img",{src:s,alt:"profile"}),(0,d.jsx)("div",{children:g.name}),(0,d.jsx)("button",{onClick:function(){return x("")},className:"clear",children:"x"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("img",{src:i.Z,alt:"upload-icon"}),(0,d.jsx)("p",{children:"Drag 'n' drop .json file here, or click to select files"})]})]})})),(0,d.jsx)("input",{type:"submit",onClick:function(e){return function(e){e.preventDefault();var a=new FormData;a.append("file",g),fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/EDH-BUILDER",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,"/jsonentrys"),{method:"POST",body:a})}(e)},className:"signin-button"}),(0,d.jsx)("p",{style:{margin:"5px"},children:p&&"entrys successfully updated"})]})]})})}},3303:function(){}}]);
//# sourceMappingURL=870.54163b0b.chunk.js.map