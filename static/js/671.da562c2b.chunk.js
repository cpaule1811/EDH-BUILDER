(self.webpackChunkedh_builder=self.webpackChunkedh_builder||[]).push([[671],{9824:function(e,n,t){"use strict";t(2791);n.Z=t.p+"static/media/upload.20472953a21a606ff4be1812978cd3fa.svg"},7283:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return p}});var a=t(6515),i=t(3430),r=t(2791),s=t(1899),c=t(8484),o=t.n(c),l=t(7831),d=t(7872),u=t(9824);var f=t.p+"static/media/excel.9a45da98a45fb083340c9f0712d97038.svg",h=t(184);var p=function(){var e=(0,r.useState)(""),n=(0,i.Z)(e,2),t=n[0],c=n[1],p=(0,r.useState)(!1),x=(0,i.Z)(p,2),v=x[0],g=x[1],m=(0,l.u)({noClick:!!t,accept:".xlsx, xls",maxFiles:2,onDrop:function(e){return c(e[0])}}),j=m.getRootProps,D=m.getInputProps,S=m.isDragActive,_=(0,s.I0)(),k=(0,s.v9)((function(e){return e.requestDecklist})).deckDetails,C=(0,s.v9)((function(e){return e.loginStatus})).userID;return(0,h.jsxs)("div",{className:"drag-n-drop",children:[(0,h.jsx)("h3",{children:"Upload cards from Excel"}),(0,h.jsxs)("div",(0,a.Z)((0,a.Z)({className:"drop-area ".concat(S&&"drag-active")},j()),{},{children:[(0,h.jsx)("input",(0,a.Z)({onChange:!0},D())),t?(0,h.jsxs)("div",{className:"uploaded-file",children:[(0,h.jsx)("img",{src:f,alt:"excel file"}),(0,h.jsx)("div",{children:t.name}),(0,h.jsx)("button",{onClick:function(e){return c("")},className:"clear",children:"x"})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("img",{src:u.Z,alt:"upload-icon"}),(0,h.jsx)("p",{children:"Drag 'n' drop .xlsx, xls file here, or click to select files"})]})]})),v&&(0,h.jsx)("div",{className:"invalid invalid-pos",children:"Please add file"}),(0,h.jsx)("button",{onClick:function(){return function(){if(!t)return g(!0);var e=new FileReader;e.onload=function(e){var n=new Uint8Array(e.target.result),t=o().read(n,{type:"array"}),a=t.Sheets[t.SheetNames[0]],i=o().utils.sheet_to_json(a,{header:1});fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"/EDH-BUILDER",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,"/exceldecklist"),{method:"post",headers:{"Content-Type":"application/json",Authorization:window.localStorage.getItem("token")},body:JSON.stringify({deckID:k.deckID,data:i})}).then((function(e){return e.json()})).then((function(e){"success"===e&&_((0,d.Rt)(k.deckID,C))}))},e.readAsArrayBuffer(t)}()},className:"upload",children:"UPLOAD"})]})}},5382:function(){},2095:function(){},1219:function(){}}]);
//# sourceMappingURL=671.da562c2b.chunk.js.map